{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,UAkC/B,SAASC,EAAcC,EAAKC,GAC1B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAS,CAACC,EAASC,KAC5BC,YAAW,KACLN,EACFI,EAAQ,C,IAACN,E,IAAKC,IAEZM,EAAO,C,IAACP,E,IAAKC,GAAK,GAErBA,EAAI,G,CAzCXN,EAAKC,KAAKa,iBAAiB,UAO3B,SAAkBC,GAChBA,EAAMC,iBACN,IAAIC,EAAaC,OAAOlB,EAAKC,KAAKkB,SAASC,MAAMC,OACjD,MAAMC,EAAYJ,OAAOlB,EAAKC,KAAKkB,SAASI,KAAKF,OAC3CG,EAASN,OAAOlB,EAAKC,KAAKkB,SAASK,OAAOH,OAEhD,GAAIG,GAAU,EAAG,OAEjB,IAAK,IAAIC,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAChCrB,EAAcqB,EAAGR,GACdS,MAAK,EAACrB,IAAEA,EAAGC,IAAEA,MACZR,EAAA6B,OAAOC,QAAQ,aAAavB,aAAeC,OAC3CuB,QAAQC,IAAI,aAAazB,aAAeC,MAAQ,IAEjDyB,OAAM,EAAC1B,IAAEA,EAAGC,IAAEA,MACbR,EAAA6B,OAAOK,QAAQ,YAAY3B,aAAeC,OAC1CuB,QAAQC,IAAI,YAAYzB,aAAeC,MAAQ,IAGnDW,GAAcK,C","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  form: document.querySelector('.form'),\n}\n\nrefs.form.addEventListener('submit', onSubmit)\n\n\n\n\n\n//----------------------------------------------------------------------//\nfunction onSubmit(event) {\n  event.preventDefault();\n  let firstDelay = Number(refs.form.elements.delay.value);\n  const delayStep = Number(refs.form.elements.step.value);\n  const amount = Number(refs.form.elements.amount.value);\n   \n  if (amount <= 0) return;\n\n  for (let i = 1; i <= amount; i += 1) {    \n    createPromise(i, firstDelay)\n      .then(({ pos, del }) => {\n        Notify.success(`Fulfilled ${pos} promise ${del}ms`);\n        console.log(`Fulfilled ${pos} promise ${del}ms`);\n      })\n      .catch(({ pos, del }) => {\n        Notify.failure(`Rejected ${pos} promise ${del}ms`);\n        console.log(`Rejected ${pos} promise ${del}ms`);\n      });\n    \n    firstDelay += delayStep;\n  }\n}\n\n\nfunction createPromise(pos, del) {\n  const shouldResolve = Math.random() > 0.3;\n  \n  return new Promise ((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({pos, del});\n      } else {\n          reject({pos, del});\n        }\n    }, del);\n  });\n  \n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","$47d4ff9957288465$var$createPromise","pos","del","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","event","preventDefault","firstDelay","Number","elements","delay","value","delayStep","step","amount","i","then","Notify","success","console","log","catch","failure"],"version":3,"file":"03-promises.39a59fc9.js.map"}